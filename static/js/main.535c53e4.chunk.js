(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],[,,,,,,function(e){e.exports=JSON.parse('{"200":{"label":"thunderstorm with light rain","icon":"thunderstorm","back":"thunderstorm"},"201":{"label":"thunderstorm with rain","icon":"thunderstorm","back":"thunderstorm"},"202":{"label":"thunderstorm with heavy rain","icon":"thunderstorm","back":"thunderstorm"},"210":{"label":"light thunderstorm","icon":"lightning","back":"thunderstorm"},"211":{"label":"thunderstorm","icon":"lightning","back":"thunderstorm"},"212":{"label":"heavy thunderstorm","icon":"lightning","back":"thunderstorm"},"221":{"label":"ragged thunderstorm","icon":"lightning","back":"thunderstorm"},"230":{"label":"thunderstorm with light drizzle","icon":"thunderstorm","back":"thunderstorm"},"231":{"label":"thunderstorm with drizzle","icon":"thunderstorm","back":"thunderstorm"},"232":{"label":"thunderstorm with heavy drizzle","icon":"thunderstorm","back":"thunderstorm"},"300":{"label":"light intensity drizzle","icon":"sprinkle","back":"rain"},"301":{"label":"drizzle","icon":"sprinkle","back":"rain"},"302":{"label":"heavy intensity drizzle","icon":"rain","back":"rain"},"310":{"label":"light intensity drizzle rain","icon":"rain","back":"rain"},"311":{"label":"drizzle rain","icon":"rain","back":"rain"},"312":{"label":"heavy intensity drizzle rain","icon":"rain","back":"rain"},"313":{"label":"shower rain and drizzle","icon":"rain","back":"rain"},"314":{"label":"heavy shower rain and drizzle","icon":"rain","back":"rain"},"321":{"label":"shower drizzle","icon":"sprinkle","back":"rain"},"500":{"label":"light rain","icon":"sprinkle","back":"rain"},"501":{"label":"moderate rain","icon":"rain","back":"rain"},"502":{"label":"heavy intensity rain","icon":"rain","back":"rain"},"503":{"label":"very heavy rain","icon":"rain","back":"rain"},"504":{"label":"extreme rain","icon":"rain","back":"rain"},"511":{"label":"freezing rain","icon":"rain-mix","back":"rain"},"520":{"label":"light intensity shower rain","icon":"showers","back":"showers"},"521":{"label":"shower rain","icon":"showers","back":"showers"},"522":{"label":"heavy intensity shower rain","icon":"showers","back":"showers"},"531":{"label":"ragged shower rain","icon":"storm-showers","back":"showers"},"600":{"label":"light snow","icon":"snow","back":"snow"},"601":{"label":"snow","icon":"sleet","back":"sleet"},"602":{"label":"heavy snow","icon":"snow","back":"snow"},"611":{"label":"sleet","icon":"rain-mix","back":"rain"},"612":{"label":"shower sleet","icon":"rain-mix","back":"rain"},"615":{"label":"light rain and snow","icon":"rain-mix","back":"rain"},"616":{"label":"rain and snow","icon":"rain-mix","back":"rain"},"620":{"label":"light shower snow","icon":"rain-mix","back":"rain"},"621":{"label":"shower snow","icon":"snow","back":"snow"},"622":{"label":"heavy shower snow","icon":"snow","back":"snow"},"701":{"label":"mist","icon":"showers","back":"showers"},"711":{"label":"smoke","icon":"smoke","back":"smoke"},"721":{"label":"haze","icon":"day-haze","back":"smoke"},"731":{"label":"sand, dust whirls","icon":"dust","back":"dust"},"741":{"label":"fog","icon":"day-fog","back":"smoke"},"751":{"label":"sand","icon":"cloudy-gusts","back":"smoke"},"761":{"label":"dust","icon":"dust","back":"dust"},"762":{"label":"volcanic ash","icon":"dust","back":"dust"},"771":{"label":"squalls","icon":"cloudy-gusts","back":"smoke"},"781":{"label":"tornado","icon":"tornado","back":"tornado"},"800":{"label":"clear sky","icon":"day-sunny","back":"day-sunny"},"801":{"label":"few clouds","icon":"day-cloudy-gusts","back":"day-sunny"},"802":{"label":"scattered clouds","icon":"day-cloudy-gusts","back":"day-sunny"},"803":{"label":"broken clouds","icon":"day-cloudy-gusts","back":"day-sunny"},"804":{"label":"overcast clouds","icon":"day-sunny-overcast","back":"day-sunny"},"900":{"label":"tornado","icon":"tornado","back":"tornado"},"901":{"label":"tropical storm","icon":"storm-showers","back":"showers"},"902":{"label":"hurricane","icon":"hurricane","back":"tornado"},"903":{"label":"cold","icon":"snowflake-cold","back":"snow"},"904":{"label":"hot","icon":"hot","back":"hot"},"905":{"label":"windy","icon":"windy","back":"windy"},"906":{"label":"hail","icon":"hail","back":"snow"},"951":{"label":"calm","icon":"sunny","back":"sunny"},"952":{"label":"light breeze","icon":"cloudy-gusts","back":"smoke"},"953":{"label":"gentle breeze","icon":"cloudy-gusts","back":"smoke"},"954":{"label":"moderate breeze","icon":"cloudy-gusts","back":"smoke"},"955":{"label":"fresh breeze","icon":"cloudy-gusts","back":"smoke"},"956":{"label":"strong breeze","icon":"cloudy-gusts","back":"smoke"},"957":{"label":"high wind, near gale","icon":"strong-wind","back":"windy"},"958":{"label":"gale","icon":"cloudy-gusts","back":"smoke"},"959":{"label":"severe gale","icon":"cloudy-gusts","back":"smoke"},"960":{"label":"storm","icon":"thunderstorm","back":"thunderstorm"},"961":{"label":"violent storm","icon":"thunderstorm","back":"thunderstorm"},"962":{"label":"hurricane","icon":"cloudy-gusts","back":"smoke"}}')},,,,,function(e,t,a){e.exports=a(22)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(9),c=a.n(i),s=(a(16),a(1)),o=a(3),l=a(2),u=a(4),h=a(5),d=(a(17),a(18),a(6)),b=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){if(null!=this.props.weather){var e=this.props.weather,t="url(images/".concat(d[e].back,".jpg)");return r.a.createElement("div",{className:"wallpaper",style:{backgroundImage:t}},r.a.createElement("div",{className:"wallpaper__shadow"}))}return""}}]),t}(r.a.Component),m=(a(19),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={city:""},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"search"},r.a.createElement("div",{className:"search__wrap"},r.a.createElement("input",{onChange:function(t){e.setState({city:t.target.value})}}),r.a.createElement("button",{onClick:function(){e.props.Search(e.state.city)}},"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c")))}}]),t}(r.a.Component)),k=(a(20),function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"Utc_to_str",value:function(e){return new Date(1e3*e).getHours()+":"+("0"+new Date(1e3*e).getMinutes()).substr(-2)}},{key:"render",value:function(){var e=this;if(null!=this.props.Data){var t=this.props.Data,a=this.props.units,n="today__icon wi wi-".concat(d[t.weather[0].id].icon);return console.log(t),r.a.createElement("div",{className:"today"},r.a.createElement("div",{className:"today__city"},t.name),r.a.createElement("div",{className:"today__weather"},r.a.createElement("div",{className:n}),r.a.createElement("div",{className:"today__temp"},Math.round(t.main.temp),"\xb0"),r.a.createElement("div",{className:"today__units"},r.a.createElement("button",{className:"today__unitsBtn ".concat("metric"===a||"today__unitsBtn_off"),onClick:function(){e.props.setUnits("metric")}},"C"),r.a.createElement("button",{className:"today__unitsBtn ".concat("metric"!==a||"today__unitsBtn_off"),onClick:function(){e.props.setUnits("imperial")}},"F"))),r.a.createElement("div",{className:"today__desc"},t.weather[0].description),r.a.createElement("div",{className:"today__details"},r.a.createElement("div",null,"Humidity: ",t.main.humidity,"%"),r.a.createElement("div",null,r.a.createElement("p",{className:"today__wind wi wi-strong-wind"}),"  ",Math.round(t.wind.speed),"metric"===a?" km/h":" mph"),r.a.createElement("div",null,"Pressure: ",t.main.pressure," mB")),r.a.createElement("div",{className:"today__details"},r.a.createElement("div",null,"Visibility: ",t.visibility/1e3," \u043a\u043c "),r.a.createElement("div",null,"Sunrise: ",this.Utc_to_str(t.sys.sunrise)," "),r.a.createElement("div",null,"Sunset: ",this.Utc_to_str(t.sys.sunset))))}return""}}]),t}(r.a.Component)),y=(a(21),a(10)),w=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(){new y.a(".swiper-container",{direction:"horizontal",slidesPerView:"auto"})}},{key:"render",value:function(){if(null!=this.props.Data){var e=this.props.units,t=this.props.Data.list.map((function(t,a){var n="forecast__icon wi wi-".concat(d[t.weather[0].id].icon);return r.a.createElement("div",{key:a,className:"forecast__item swiper-slide"},r.a.createElement("div",null,t.dt_txt.substr(10,6)),r.a.createElement("p",{className:n}),r.a.createElement("div",{className:"forecast__temp"},Math.round(t.main.temp),"\xb0"),r.a.createElement("div",null,t.weather[0].description),r.a.createElement("div",null,r.a.createElement("p",{className:"today__wind wi wi-strong-wind"})," ",Math.round(t.wind.speed),"metric"===e?" km/h":" mph"))}));return r.a.createElement("div",{className:"forecast swiper-container"},r.a.createElement("div",{className:"swiper-wrapper"},t))}return""}}]),t}(r.a.Component),p=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).getWeather=function(e,t,n){fetch("".concat(a.state.REACT_APP_API_URL,"/weather/?q=").concat(e,"&units=").concat(t,"&lang=").concat(n,"&APPID=").concat(a.state.REACT_APP_API_KEY)).then((function(e){return a.handleResponse(e)})).then((function(e){return"404"==e.cod?(a.setState({error:e.message}),e):Object.entries(e).length?(a.setState({weather:e,currentWeather:e.weather[0].id,cityId:e.id}),a.getForecast(e.id,a.state.units,a.state.lang),e):void 0})).catch((function(e){console.error("Error fetching current weather for ".concat(a.state.city,": "),e),a.setState({error:e.message})}))},a.changeCity=function(e){a.setState({error:"",city:e}),a.getWeather(e,a.state.units,a.state.lang)},a.setUnits=function(e){a.setState({units:e}),a.getWeather(a.state.city,e,a.state.lang)},a.state={city:"Moscow",currentWeather:null,REACT_APP_API_URL:"http://api.openweathermap.org/data/2.5",REACT_APP_API_KEY:"63ce596fa93b679e9353a67f97bf99f1",units:"metric",cityId:"",lang:"en",error:"",forecast:null,weather:null},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getWeather(this.state.city,this.state.units,this.state.lang)}},{key:"handleResponse",value:function(e){if(e.ok||"Not Found"===e.statusText)return e.json();throw new Error("Error: Location "+e.statusText)}},{key:"getForecast",value:function(e,t,a){var n=this;fetch("".concat(this.state.REACT_APP_API_URL,"/forecast/?id=").concat(e,"&units=").concat(t,"&lang=").concat(a,"&APPID=").concat(this.state.REACT_APP_API_KEY)).then((function(e){return n.handleResponse(e)})).then((function(e){Object.entries(e).length&&n.setState({forecast:e})})).catch((function(e){return console.error("Error fetching forecast for ".concat(n.state.city,": "),e),[]}))}},{key:"render",value:function(){var e;return e="city not found"===this.state.error?r.a.createElement("p",{style:{textAlign:"center",color:"#fff",fontSize:"25px"}},"Not found city: ",this.state.city):r.a.createElement(n.Fragment,null,r.a.createElement(k,{Data:this.state.weather,units:this.state.units,setUnits:this.setUnits}),r.a.createElement(w,{Data:this.state.forecast,units:this.state.units})),r.a.createElement("div",{className:"Weather"},r.a.createElement(b,{weather:this.state.currentWeather}),r.a.createElement(m,{Search:this.changeCity}),r.a.createElement("div",{className:"Weather__content"},e))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(p,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[11,1,2]]]);
//# sourceMappingURL=main.535c53e4.chunk.js.map